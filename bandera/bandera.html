<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #zonasDeSoltar,
      #arrastrables {
        display: flex;
      }
      .arrastrable {
        flex: 0 0 110px;
        height: 270px;
        background: rgb(153, 149, 157);
        padding: 10px;
        margin: 10px 10px 0 0;
      }

      .zona-de-soltar {
        flex: 0 0 140px;
        height: 270px;
        background: rgb(153, 149, 157);
        padding: 10px;
        margin: 10px 10px 0 0;
      }

    </style>
  </head>
  <body>
    <div id="arrastrables">
      <div class="arrastrable1" draggable="true">
        <img
          src="1.jpg"
        />
      </div>

      <div class="arrastrable2" draggable="true">
        <img
          src="2.jpg"
        />
      </div>

      <div class="arrastrable3" draggable="true">
        <img
          src="3.jpg"
        />
      </div>

    </div>

    <div id="zonasDeSoltar">
      <div class="zona-de-soltar1"></div>
      <div class="zona-de-soltar2"></div>
      <div class="zona-de-soltar3"></div>
    </div>

    <script>
      var elementoArrastrado;

      document.addEventListener(
        "drag",
        function (event) {
          //console.log("drag")
        },
        false
      );

      document.addEventListener(
        "dragstart",
        function (event) {
          // guarda información acerca del objeto arrastrado
          event.dataTransfer.setData("text/plain", null);
          // guarda una referéncia del elemento arrastrado
          elementoArrastrado = event.target;
          // cambia la opacidad del elemento a medio transparente
          event.target.style.opacity = 0.5;
        },
        false
      );

      document.addEventListener(
        "dragend",
        function (event) {
          // reestablece el valor de la opacidad
          event.target.style.opacity = 1;
        },
        false
      );

      document.addEventListener(
        "dragover",
        function (event) {
          // previene el comportamiento por defecto del elemento arrastrado
          event.preventDefault();
        },
        false
      );

      document.addEventListener(
        "dragenter",
        function (event) {
          // comprueba si el event.target es una zona de soltar
          if (event.target.className == "zona-de-soltar1") {
            // y di lo és cambia el color de fondo
            event.target.style.background = "purple";
          }
        },
        false
      );

      document.addEventListener(
        "dragleave",
        function (event) {
          // comprueba si el event.target es una zona de soltar
          if (event.target.className == "zona-de-soltar1") {
            // y si lo és, reestablece el valor inicial
            event.target.style.background = "";
          }
        },
        false
      );

      document.addEventListener(
        "drop",
        function (event) {
          // Si el elemento arrastrado es un link, este se abre en una nueve página.
          // Para que esto no pase hay que utilizar:
          event.preventDefault();
          // comprueba si el event.target es una zona de soltar
          if (event.target.className == "zona-de-soltar1") {
            // reestablece el valor inicial para el background
            event.target.style.background = "";
            // elimina el elemento arrastrado del del elemento padre
            elementoArrastrado.parentNode.removeChild(elementoArrastrado);
            // y lo agrega al elemento de destino
            event.target.appendChild(elementoArrastrado);
          }
        },
        false
      );
    </script>
    
  </body>
</html>
